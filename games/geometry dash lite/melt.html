
<!DOCTYPE html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Geometry Dash Meltdown</title>
	<link rel="stylesheet" href="rs/game.css">
  </head>
  <script>
    function UnityCallPlayJs() {
      console.log("untiy call play game");
    }
    function UnityCallAgainJs() {
      console.log("unity call again");
    }
    function UnityCallReturnHomeJs() {
      console.log("untiy call return home");
    }
    function UnityCallChooseLevelJs() {
      console.log("untiy call choose level");
    }
    function UnityCallCloseLeaderboardJs() {
      console.log("untiy call close leaderboard");
    }
    function UnityCallChooseCharacterJs() {
      console.log("untiy call choose character");
    }
    function UnityCallChooseColorJs() {
      console.log("untiy call choose color");
    }
    function UnityCallEndgameJs() {
      console.log("untiy call end game");
    }
    function UnityCallContinueJs() {
      console.log("untiy call continue");
    }
    function UnityCallChangeModeJs() {
      console.log("untiy call change mode");
    }
	function UnityCallPauseGameJs() {
      console.log("untiy call pause game");
    }
	function UnityCallChangeLevelJs() {
      console.log("untiy call change level");
    }
    function UnityCallLevelUpJs() {
      console.log("untiy call level up");
    }
</script>
  <body>
    <div id="gameContainer"></div>
    <div id="loader">
      <img class="logo" src="image/meltdownloading.png">
      <div class="spinner"></div>
      <div class=" pos_progress">
        <div class="progress">
            <div class="posfull">
            <img class="full" src="image/process_bar_back.png">
            </div>
            <div class="posbox">
                <img class="box_process" src="image/process_bar_front.png">
            </div>
        </div>
    </div>
  </body>

  <script src="Build/UnityLoader.js"></script>
  <script>
  var gameInstance = UnityLoader.instantiate("gameContainer", "Build/GeometryDashMeltDown_.json", {onProgress: UnityProgress});
  function UnityProgress(gameInstance, progress) {
    if (!gameInstance.Module) {
      return;
    }
    const loader = document.querySelector("#loader");
    if (!gameInstance.progress) {
      const progress = document.querySelector("#loader .progress");
      progress.style.display = "block";
      gameInstance.progress = progress.querySelector(".full");
      loader.querySelector(".spinner").style.display = "none";
    }
    gameInstance.progress.style.transform = `scaleX(${progress})`;
    if (progress === 1 && !gameInstance.removeTimeout) {
      gameInstance.removeTimeout = setTimeout(function() {
          loader.style.display = "none";
      }, 2000);
    }
  }

  var theElement = document.getElementById("gameContainer");
theElement.addEventListener("mouseup", tapOrClick, false);
theElement.addEventListener("touchend", tapOrClick, false);

    function tapOrClick(event) {
        fullScreenAPI();
        return false;
      }
    
    function fullScreenAPI(){
        var ua = navigator.userAgent.toLowerCase();
        var isAndroid = ua.indexOf("android") > -1;
            if(isAndroid) {
             GoFullScreen(document.documentElement);
            }
        }
    function GoFullScreen(element) {
        if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement ) {
            if(element.requestFullscreen && document.fullscreenEnabled){
                element.requestFullscreen();
            } 
            else if(element.mozRequestFullScreen){
                element.mozRequestFullScreen();
            }
            else if(element.webkitRequestFullscreen){
                element.webkitRequestFullscreen();
            } 
            else if(element.msRequestFullscreen){
                element.msRequestFullscreen();
            }
        }
    }
  </script>
</html>
